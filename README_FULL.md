# üè¶ Bank Cards Management System

Java Spring Boot + PostgreSQL + Docker

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Ä–æ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¥–æ—Å—Ç—É–ø–∞ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ü–æ–∏—Å–∫ –∫–∞—Ä—Ç –ø–æ –Ω–æ–º–µ—Ä—É
- –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞ –∫–∞—Ä—Ç—ã
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –õ—É–Ω–∞
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –≤ API –æ—Ç–≤–µ—Ç–∞—Ö
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç, CVV)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Liquibase

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Java 17+**, **Spring Boot 3.5.6**
- **Spring Security**, JWT
- **Spring Data JPA**, PostgreSQL 17, Hibernate
- **Liquibase** –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- **Docker & Docker Compose**, Maven, Lombok
- **JUnit 5**, Mockito, MockMvc –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Controller Layer** ‚Äì REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã  
- **Service Layer** ‚Äì –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞  
- **Repository Layer** ‚Äì –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º  
- **Entity Layer** ‚Äì –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö  
- **Security Layer** ‚Äì –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
- **Utility Layer** ‚Äì –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Maven 3.6+
- Docker –∏ Docker Compose

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/SatelliteGml/bank_rest_2025.git
cd cd bank_rest_2025
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/bankcards_db
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres
SERVER_PORT=8080
JWT_SECRET=your-secret-key #85cd200f70bc9802fea817ff6ccd46722bfa3201f32560430154c6cafa940de2 for example
JWT_EXPIRATION=3600000
```

### –ó–∞–ø—É—Å–∫ —Å Docker Compose
```bash
docker-compose up -d
docker-compose logs -f app
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
docker-compose up -d db
mvn clean package
mvn spring-boot:run
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞
- API: `http://localhost:8080/api`
- Swagger UI: `http://localhost:8080/api/swagger-ui/index.html`
- Health Check: `http://localhost:8080/api/actuator/health` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/register` ‚Äì —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` ‚Äì –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏
- `GET /api/admin/cards` ‚Äì –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ä—Ç—ã (ADMIN)
- `POST /api/admin/cards` ‚Äì —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É (ADMIN)
- `GET /api/admin/cards/{id}` ‚Äì –∫–∞—Ä—Ç–∞ –ø–æ ID (ADMIN)
- `PUT /api/admin/cards/{id}/block` ‚Äì –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã (ADMIN)
- `PUT /api/admin/cards/{id}/activate` ‚Äì –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã (ADMIN)
- `DELETE /api/admin/cards/{id}` ‚Äì —É–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É (ADMIN)

### –ö–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/my` ‚Äì —Å–≤–æ–∏ –∫–∞—Ä—Ç—ã
- `GET /api/users/paginated` ‚Äì –∫–∞—Ä—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `GET /api/users/{id}/balance` ‚Äì –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã
- `GET /api/users/{userId}/balances` ‚Äì –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–µ—Ä–µ–≤–æ–¥—ã
- `POST /api/transfers/own` ‚Äì –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- `POST /api/transfers/external` ‚Äì –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –≤–Ω–µ—à–Ω—é—é –∫–∞—Ä—Ç—É

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤: `mvn test`
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ—Å—Ç–æ–≤: `mvn test -Dtest=CardServiceImplTest`
- –ü–æ–∫—Ä—ã—Ç–∏–µ: ~85%

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø (ADMIN, USER)
- BCrypt –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- AES —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –∏ CVV
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –≤ API –æ—Ç–≤–µ—Ç–∞—Ö

---

## üê≥ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Docker)
```bash
docker build -t bank-cards-app:latest .
docker run -d \
  --name bank-cards-app \
  -p 8080:8080 \
  -e SPRING_DATASOURCE_URL=jdbc:postgresql://your-db-host:5432/bankcards_db \
  -e SPRING_DATASOURCE_USERNAME=your-username \
  -e SPRING_DATASOURCE_PASSWORD=your-password \
  -e JWT_SECRET=your-production-secret-key \
  bank-cards-app:latest
```

